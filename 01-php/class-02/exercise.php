<?php
$studentList = [
    [
        "Audrey Ollin",
        11.83,
        39.66,
        148.24,
        42.47,
        51.77
    ],
    [
        "Kamila Irvin",
        37.83,
        46.75,
        132.88,
        182.02,
        171.75
    ],
    [
        "Anny Isenor",
        12.18,
        21.73,
        142.52,
        92.8,
        112.26
    ],
    [
        "Cybil Meyrick",
        33.56,
        5.66,
        59.02,
        235.66,
        166.76
    ],
    [
        "Jimmie Shiel",
        12.31,
        5.54,
        71.12,
        131.02,
        25.86
    ],
    [
        "Rudiger Gullane",
        20.95,
        5.8,
        25.74,
        49.86,
        253.25
    ],
    [
        "Briant Crookshank",
        24.65,
        27.36,
        123.15,
        51.4,
        167.08
    ],
    [
        "Candis Kix",
        13.16,
        48.45,
        73.37,
        83.67,
        150.01
    ],
    [
        "Hester O'Scully",
        38.87,
        22.59,
        63.15,
        176.05,
        219.14
    ],
    [
        "Janna Dewdney",
        26.44,
        45.08,
        88.93,
        192.31,
        293.89
    ],
    [
        "Deb Cornill",
        36.29,
        39.88,
        134.72,
        129.61,
        185.6
    ],
    [
        "Ely Corwin",
        14.99,
        6.25,
        139.6,
        46.63,
        140.09
    ],
    [
        "Gregor MattiCCI",
        22.37,
        29.05,
        39.33,
        104.78,
        132.15
    ],
    [
        "Carl Grichukhanov",
        17.37,
        17.29,
        87.71,
        112.08,
        52.71
    ],
    [
        "Harmonie Hugues",
        10.48,
        19.69,
        93.16,
        231.1,
        167.66
    ],
    [
        "Val Garvey",
        8.68,
        46.19,
        79.46,
        173.9,
        130.57
    ],
    [
        "Job Manis",
        7.19,
        32.67,
        41.36,
        49.87,
        230.41
    ],
    [
        "Vassily Jorat",
        14.13,
        38.21,
        57.5,
        70.73,
        271.78
    ],
    [
        "Jeramey Courtois",
        8.03,
        44.62,
        38.12,
        111.63,
        241.59
    ],
    [
        "Rosetta Nichol",
        7.21,
        6.94,
        51.29,
        107.86,
        41.88
    ],
    [
        "Barnaby Linklet",
        41.4,
        30.79,
        122.83,
        67.46,
        67.48
    ],
    [
        "Dennison Grave",
        7.28,
        13.51,
        35.08,
        81.47,
        106.51
    ],
    [
        "Raine Armfirld",
        36.62,
        9.86,
        31.82,
        51.11,
        83
    ],
    [
        "Archie Mac Giany",
        22.58,
        45.02,
        64.74,
        153.34,
        172.17
    ],
    [
        "Di Bardill",
        17.21,
        27.92,
        61.12,
        213.02,
        267.66
    ],
    [
        "Nickie Opdenorth",
        34.36,
        37.82,
        147.26,
        81.27,
        218.94
    ],
    [
        "Chrystal MacTrustam",
        21.72,
        27.71,
        46.25,
        46.29,
        232.48
    ],
    [
        "Lin Brenstuhl",
        45.8,
        13.85,
        105.1,
        196.21,
        269.44
    ],
    [
        "Carr Grassin",
        40.2,
        37.84,
        113.89,
        244.03,
        77.39
    ],
    [
        "Laurent Danby",
        42.96,
        20.6,
        82.24,
        119.76,
        70.91
    ],
    [
        "Riley Guwer",
        21.73,
        27.67,
        58.57,
        40.45,
        265.48
    ],
    [
        "Mehetabel Dietsche",
        10.78,
        43.58,
        90.14,
        87.73,
        280.6
    ],
    [
        "Peri Antognazzi",
        35.36,
        16.92,
        99.63,
        28.61,
        146.73
    ],
    [
        "Quillan McIlhone",
        21.56,
        16.27,
        116.47,
        55.25,
        109.95
    ],
    [
        "Nickie Bandt",
        19.85,
        18.68,
        87.48,
        115.17,
        188.69
    ],
    [
        "Herold Baudone",
        17.68,
        33.09,
        121.51,
        190.57,
        89.98
    ],
    [
        "Husein Holtum",
        12.21,
        41.22,
        64.03,
        199.63,
        225.83
    ],
    [
        "Peria Hanne",
        33.75,
        49.91,
        125.69,
        177.91,
        133.74
    ],
    [
        "Tricia Thorald",
        36.28,
        16.43,
        148.64,
        207.33,
        143.43
    ],
    [
        "Itch Safhill",
        37.92,
        19.79,
        80.19,
        240.15,
        149.16
    ],
    [
        "Coral Sabater",
        43.42,
        19.1,
        88.31,
        25.03,
        44.04
    ],
    [
        "Effie Beacham",
        42.52,
        15.34,
        38.19,
        221.74,
        107.04
    ],
    [
        "Seka Matteo",
        43.07,
        42.96,
        88.58,
        35.06,
        262.83
    ],
    [
        "Meggy Dell Casa",
        46.09,
        21.7,
        70.49,
        75.41,
        225.8
    ],
    [
        "Elihu Dunsford",
        34.6,
        15.86,
        48.68,
        53.87,
        264.64
    ],
    [
        "Ilse Headings",
        33.13,
        29.71,
        138.8,
        53.49,
        244.02
    ],
    [
        "Kelci Firks",
        40.57,
        16.49,
        31.34,
        72.78,
        257.02
    ],
    [
        "Rudie Scott",
        5.4,
        14.25,
        65.18,
        202.23,
        75.02
    ],
    [
        "Janenna Rosa",
        6.45,
        32.94,
        41.07,
        79.26,
        30.79
    ],
    [
        "Nanni Garvagh",
        13.92,
        15.12,
        87.24,
        149.66,
        277.39
    ],
    [
        "Gary Mintram",
        32.33,
        45.9,
        48.58,
        158.89,
        180.93
    ],
    [
        "Kevin Hagger",
        41.12,
        10.95,
        122.31,
        51.16,
        26.13
    ],
    [
        "Powell Combe",
        13.33,
        44.22,
        60.21,
        105.94,
        198.7
    ],
    [
        "Lezlie Maypes",
        38.91,
        27.54,
        145.39,
        110.56,
        237.19
    ],
    [
        "Xena Elden",
        33.19,
        36.97,
        38.53,
        107.86,
        81.69
    ],
    [
        "Paquito Headingham",
        30.56,
        18.15,
        50.16,
        196.97,
        186.91
    ],
    [
        "Kally Whitehurst",
        41.98,
        21.62,
        97.03,
        75.85,
        73.76
    ],
    [
        "Guillemette Frostdyke",
        22.07,
        29.12,
        48.91,
        206.52,
        110.09
    ],
    [
        "Yancy Scandrett",
        15.24,
        22.86,
        74.83,
        81.9,
        197.87
    ],
    [
        "Gherardo Sykes",
        6.56,
        8.6,
        95.29,
        136.59,
        114.57
    ],
    [
        "Adair Villaron",
        31.18,
        10.99,
        124.19,
        190.99,
        105.71
    ],
    [
        "Cletis Wanderschek",
        43.34,
        43.02,
        60.92,
        155.98,
        269.44
    ],
    [
        "Bonnibelle Crosier",
        20.77,
        9.72,
        100.65,
        68.52,
        212.6
    ],
    [
        "Vincents Childs",
        12.27,
        26.95,
        93.36,
        115.33,
        167.48
    ],
    [
        "Dun Marris",
        35.54,
        48.39,
        142.93,
        73.16,
        248.44
    ],
    [
        "Skipp Friel",
        24.62,
        12.66,
        131.05,
        140.7,
        208.34
    ],
    [
        "Sydney Bountiff",
        42.48,
        17.43,
        54.07,
        195.88,
        235.86
    ],
    [
        "Laurette Hembrow",
        35.08,
        9.43,
        95.97,
        217.62,
        142.03
    ],
    [
        "Nataniel Knottley",
        25.43,
        23.6,
        69.44,
        88.45,
        58.96
    ],
    [
        "Dorothee Heineking",
        27.02,
        31.82,
        51.02,
        158.67,
        71.73
    ],
    [
        "Fowler Pummell",
        17.93,
        37.26,
        99.33,
        244.9,
        199.32
    ],
    [
        "Susann Danaher",
        16.15,
        49.07,
        78.59,
        240.67,
        158.64
    ],
    [
        "Marilee Marder",
        27.7,
        45.36,
        40.87,
        205.4,
        218.79
    ],
    [
        "Maighdiln Le Gassick",
        31.34,
        33.98,
        103.27,
        31.99,
        196.95
    ],
    [
        "Lowell Prandi",
        5.1,
        38.32,
        117.21,
        83.05,
        193.96
    ],
    [
        "Pollyanna Siney",
        22.14,
        34.92,
        132.65,
        244.03,
        259.46
    ],
    [
        "Corbie Frier",
        36.24,
        13.91,
        44.24,
        176.01,
        33.66
    ],
    [
        "Ruthy Zanuciolii",
        11.55,
        47.36,
        103.83,
        188.94,
        92.36
    ],
    [
        "Zelma McAreavey",
        45.45,
        13.76,
        149.97,
        102.79,
        289.82
    ],
    [
        "Jordana Ybarra",
        28.23,
        42.27,
        77.34,
        160.02,
        46.58
    ],
    [
        "Willyt Creer",
        35.96,
        16.83,
        74.46,
        87.34,
        78.21
    ],
    [
        "Olin O'Kielt",
        49.98,
        15.72,
        138.98,
        60.22,
        258.35
    ],
    [
        "Nicolette Volks",
        26.46,
        12.94,
        84.02,
        222.64,
        153.67
    ],
    [
        "Pincus Lanchberry",
        39.23,
        25.81,
        138.54,
        28.69,
        281.84
    ],
    [
        "Kin Yewdale",
        49.76,
        20.01,
        149.55,
        242.56,
        205.41
    ],
    [
        "Booth Gisbye",
        15.12,
        11.82,
        130.08,
        186.22,
        75.65
    ],
    [
        "Annmarie Netley",
        39.72,
        17.71,
        97.87,
        193.1,
        134.28
    ],
    [
        "Berrie Spinola",
        8.47,
        7.42,
        62.37,
        73.55,
        210.07
    ],
    [
        "Weider Aubry",
        26.58,
        35.27,
        58.65,
        235.69,
        191.25
    ],
    [
        "Donnamarie Janatka",
        26.48,
        28.74,
        107.83,
        200.37,
        179.97
    ],
    [
        "Bonita Dowdell",
        38.2,
        18.46,
        58.82,
        35.93,
        185.57
    ],
    [
        "Rubie Bridgement",
        5.17,
        39.93,
        109.32,
        33.15,
        67.41
    ],
    [
        "Hanny Loins",
        40.24,
        33.73,
        59.79,
        36.93,
        212.47
    ],
    [
        "Averyl Chisolm",
        8.1,
        47.82,
        92.26,
        54.58,
        134.21
    ],
    [
        "Rosalinde Denisot",
        21.9,
        5.66,
        70.43,
        137.6,
        106.21
    ],
    [
        "Phylys Slevin",
        18.84,
        43.13,
        32.28,
        230.43,
        293.48
    ],
    [
        "Renell Baptist",
        21.67,
        24.5,
        122.44,
        59.06,
        288.81
    ],
    [
        "Tommie Leighfield",
        13,
        16.81,
        91.36,
        244.77,
        116.83
    ],
    [
        "Hewet Penney",
        49.71,
        24.46,
        148.48,
        81.38,
        190.02
    ],
    [
        "Juanita Spellsworth",
        46.18,
        17.63,
        126.22,
        140.17,
        109.41
    ]
];

// #1 How many Students do we have?
echo count($studentList) . "<br><br>";

// #2 Calculate the final marks from every student?
function finalMark($data){
    for ($i = 0; $i < count($data); $i++){
        $courseWork = ($data[$i][1] + $data[$i][2]) * 0.2;
        $midterm = $data[$i][3] / 10;
        $finalExam = $data[$i][4] / 10;
        $finalProject = $data[$i][5] / 10;
        $totalMark = 10 + $courseWork + $midterm + $finalExam + $finalProject;
        echo $data[$i][0] . ' : ' . $totalMark . "<br>";
    }
}
echo finalMark($studentList);
// function finalMark($data){
//     foreach ($data as $student){
//         $courseWork = ($student[1] + $student[2]) * 0.2;
//         $midterm = $student[3] / 10;
//         $finalExam = $student[4] / 10;
//         $finalProject = $student[5] / 10;
//         $totalMark = 10 + $courseWork + $midterm + $finalExam + $finalProject;
//         echo $student[0] . ' : ' . $totalMark . "<br>";
//     }
// }
// function finalMark($data){
//     $count = 0;
//     while ($count < count($data)){
//         $courseWork = ($data[$count][1] + $data[$count][2]) * 0.2;
//         $midterm = $data[$count][3] / 10;
//         $finalExam = $data[$count][4] / 10;
//         $finalProject = $data[$count][5] / 10;
//         $totalMark = 10 + $courseWork + $midterm + $finalExam + $finalProject;
//         echo $data[$count][0] . ' : ' . $totalMark . "<br>";
//         $count++;
//     }
// }

//#3 Calculate the average final marks from the whole class?
function totalScore($cw1, $cw2, $mt, $fe, $fp) {
    $total = 0;
    $total = ($cw1+$cw2)/5 + ($mt/10) + ($fe/10) + ($fp/10) + 10;
    return $total;
}
function averageFinal($data){
    $sum = 0;
    for ($i = 0; $i < count($data); $i++){
        $sum += totalScore($data[$i][1], $data[$i][2], $data[$i][3], $data[$i][4], $data[$i][5]);
    }
    return $sum / count($data);
}
echo "<br>" . "Average final marks : " . averageFinal($studentList);
// function averageFinal($data){
//     $sum = 0;
//     foreach ($data as $student){
//         $sum += totalScore($student[1], $student[2], $student[3], $student[4], $student[5]);
//     }
//     return $sum / count($data);
// }
// function averageFinal($data){
//     $sum = 0;
//     $count = 0;
//     while ($count < count($data)){
//         $sum += totalScore($data[$count][1], $data[$count][2], $data[$count][3], $data[$count][4], $data[$count][5]);
//         $count++;
//     }
//     return $sum / count($data);
// }

// #4 Show the highest final mark?
function highestFinal($data){
    $highmark = array();
    for ($i = 0; $i < count($data); $i++){
        array_push($highmark,totalScore($data[$i][1], $data[$i][2], $data[$i][3], $data[$i][4], $data[$i][5]));
    }
    rsort($highmark);
    return "<br>" . "Highest Score : " . $highmark[0];
}
echo highestFinal($studentList);

// #5 Which student got the most average final mark ?
function nearestAvgMarks($data){
    // $finalMarkArr = array();
    for ($i = 0; $i < count($data); $i++){
        abs(averageFinal($data)-totalScore($data[$i][1], $data[$i][2], $data[$i][3], $data[$i][4], $data[$i][5]));
    }
    sort($finalMarkArr);
    return "<br>" . $finalMarkArr[0];
}
echo nearestAvgMarks($studentList);

#6 How many students with the first Name starting with letter "C" do we have?
